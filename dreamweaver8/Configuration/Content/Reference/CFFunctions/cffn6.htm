<html>
<head>
<link href="mmres://user_interface_reference.css" rel="stylesheet" type="text/css">
<title>ARRAYAVG</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">
   <div id="Description">
   <table cellpadding="0" cellspacing="0" border="0" width="100%" class="main">
      <tr> 
         <td valign="top" class="name">ARRAYAVG</td>
         <td valign="top" nowrap class="compatibility">&nbsp;</td>
      </tr>
      <tr>
         <td colspan="2" class="divider"><img src="dwres:18084" width="100%" height="1"></td>
      </tr>


    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Description</span>
<p>
Calculates the average of the values in an array. 
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Returns</span>
<p>
Number. If the array parameter value is an empty array, returns zero. 
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Category</span>
<p>
Array functions, Mathematical functions
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Function syntax</span><pre>ArrayAvg(array)
</pre>    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">See also</span>
<p>
ArraySum; "Basic array techniques" in Chapter&#160;5, "Using Arrays and Structures," in ColdFusion MX Developer's Guide
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Parameters</span>
<p>

</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Usage</span>
<p>
The following example uses the ColdFusion built-in variable Form.fieldNames, which is available on the action page of a form. It contains a comma-delimited list of the names of the fields on the form. 
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Example</span><pre>&lt;!--- This example shows the use of ArrayAvg ---&gt;
&lt;!-- The following lines of code keep track of the form fields that can 
be dynamically generated on the screen. It uses the Fieldnames variable
with the ListLen function to determine the number of fields on the form. ---&gt;
&lt;cfset FormElem = 2&gt;
   &lt;cfif Isdefined(&quot;Form.Submit&quot;)&gt;
      &lt;cfif Form.Submit is &quot;More&quot;&gt;
         &lt;cfset FormElem = ListLen(Form.Fieldnames)&gt;
      &lt;/cfif&gt;
   &lt;/cfif&gt;

&lt;html&gt;
&lt;head&gt;
&lt;title&gt;ArrayAvg Example&lt;/title&gt;
&lt;/head&gt;
&lt;body&gt;
&lt;h3&gt;ArrayAvg Example&lt;/h3&gt;
&lt;p&gt; This example uses ArrayAvg to find the average of the numbers that you 
enter
into an array.&lt;br&gt; 
To enter more than two numbers press the &lt;b&gt;more&lt;/b&gt; button.
&lt;/p&gt;
&lt;form action = &quot;arrayavg.cfm&quot;&gt;
&lt;!--- The following code initially creates two fields. It adds fields if the
user presses MORE. FormElem is initialized to two at the beginning of this
code to show that the form has two fields. -----&gt;
&lt;input type = &quot;submit&quot; name = &quot;submit&quot; value = &quot;more&quot;&gt;
&lt;table cellspacing = &quot;2&quot; cellpadding = &quot;2&quot; border = &quot;0&quot;&gt;
&lt;cfloop index = &quot;LoopItem&quot; from = &quot;1&quot; to = &quot;#FormElem#&quot;&gt;
   &lt;tr&gt;
      &lt;cfoutput&gt;
        &lt;th align = &quot;left&quot;&gt;Number #LoopItem#&lt;/th&gt;
        &lt;td&gt;&lt;input type = &quot;text&quot; name = &quot;number#LoopItem#&quot;&gt;&lt;/td&gt;
      &lt;/cfoutput&gt;
   &lt;/tr&gt;
&lt;/cfloop&gt;
&lt;/table&gt;
&lt;input type = &quot;submit&quot; name = &quot;submit&quot; value = &quot;get the average&quot;&gt;
&lt;/form&gt;

&lt;!--- create an array ---&gt;
&lt;cfif IsDefined(&quot;FORM.submit&quot;)&gt;
   &lt;cfset myNumberArray = ArrayNew(1)&gt;
   &lt;cfset Count = 1&gt;
   &lt;cfloop index = &quot;ListItem&quot; list = &quot;#Form.Fieldnames#&quot;&gt;
       &lt;cfif Left(ListItem,3) is &quot;Num&quot;&gt;
         &lt;cfset myNumberArray[Count] = Val(&quot;number#Count#&quot;)&gt;
         &lt;cfset count = IncrementValue(Count)&gt;
      &lt;/cfif&gt; 
   &lt;/cfloop&gt;
      
   &lt;cfif Form.Submit is &quot;get the average&quot;&gt;   
      &lt;!--- use ArrayAvg to get the average of the two numbers ---&gt;
      &lt;p&gt;The average of the numbers that you entered is
      &lt;cfoutput&gt;#ArrayAvg(myNumberArray)#.&lt;/cfoutput&gt;
   &lt;cfelse&gt;
      &lt;cfoutput&gt;Try again. You must enter at least two numeric values.
      &lt;/cfoutput&gt;
   &lt;/cfif&gt;   
&lt;/cfif&gt;   
&lt;/body&gt;
&lt;/html&gt; 
</pre>
         </td>
      </tr>
   </table>
   </div>
<div id="ARRAY">
<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr>  
<td valign="top" class="name">ARRAY</td>
  <td valign="top" nowrap class="compatibility">&nbsp;</td>
  </tr>
  <tr>
  <td colspan="2" class="divider"><img src="dwres:18084" width="100%" height="1"></td>
  </tr>


<p>Name of an array</p>

  </td>
  </tr>
  </table>
</div>

  </body>
</html>
