<html>
<head>
<link href="mmres://user_interface_reference.css" rel="stylesheet" type="text/css">
<title>LSNUMBERFORMAT</title>
</head>
<body bgcolor="#FFFFFF" text="#000000">
   <div id="Description">
   <table cellpadding="0" cellspacing="0" border="0" width="100%" class="main">
      <tr> 
         <td valign="top" class="name">LSNUMBERFORMAT</td>
         <td valign="top" nowrap class="compatibility">&nbsp;</td>
      </tr>
      <tr>
         <td colspan="2" class="divider"><img src="dwres:18084" width="100%" height="1"></td>
      </tr>


    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Description</span>
<p>
Formats a number in a locale-specific format.
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Returns</span>
<p>
A formatted number. 
</p>
<ul>

<li>If no mask is specified, it returns the number formatted as an integer </li>

<li>If no mask is specified, truncates the decimal part; for example, it truncates 34.57 to 35 </li>

<li>If the specified mask cannot correctly mask a number, it returns the number unchanged</li>

<li>If the parameter value is &quot;&quot; (an empty string), it returns 0.</li>
</ul>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Category</span>
<p>
Display and formatting functions, International functions
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Function syntax</span><pre>LSNumberFormat(number [, mask ])
</pre>    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">See also</span>
<p>
GetLocale, SetLocale; "Handling data in ColdFusion&#160;MX" in Chapter&#160;17, "Developing Globalized Applications," in ColdFusion MX Developer's Guide
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">History</span>
<p>
ColdFusion&#160;MX: 
</p>
<ul>

<li>Changed behavior: if the specified mask format cannot correctly mask a number, this function returns the number unchanged. (In earlier releases, it truncated the number or threw an error.) (If no mask is specified, ColdFusion&#160;MX truncates the decimal part as ColdFusion 5 does. For example, it truncates 1234.567 to 1235.) </li>

<li>Changed formatting behavior: this function might return different formatting than in earlier releases. This function uses Java standard locale formatting rules on all platforms. </li>
</ul>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Parameters</span>
<p>

</p>

<p>
The following table lists the LSNumberFormat mask characters:
</p>

<p>
</p><div align="left">
<table border="1">
  <caption></caption>
  <tr align="center">    <th>&#160;</th>
    <th>&#160;</th>
</tr>
  <tr align="left">    <td>
<p>_ </p></td>
    <td>
<p>(Underscore.) Digit placeholder. </p></td>
</tr>
  <tr align="left">    <td>
<p>9</p></td>
    <td>
<p> Digit placeholder. (Shows decimal places more clearly than _ .) </p></td>
</tr>
  <tr align="left">    <td>
<p>.</p></td>
    <td>
<p>Location of a mandatory decimal point (or locale-appropriate symbol). </p></td>
</tr>
  <tr align="left">    <td>
<p>0</p></td>
    <td>
<p>Located to the left or right of a mandatory decimal point. Pads with zeros. </p></td>
</tr>
  <tr align="left">    <td>
<p>( )</p></td>
    <td>
<p>If number is less than zero, puts parentheses around the mask.</p></td>
</tr>
  <tr align="left">    <td>
<p>+</p></td>
    <td>
<p>Puts plus sign before positive number; minus sign before negative number.</p></td>
</tr>
  <tr align="left">    <td>
<p>-</p></td>
    <td>
<p>Puts space before positive number; minus sign before negative number.</p></td>
</tr>
  <tr align="left">    <td>
<p>,</p></td>
    <td>
<p>Separates every third decimal place with a comma (or locale-appropriate symbol). </p></td>
</tr>
  <tr align="left">    <td>
<p>L,C</p></td>
    <td>
<p>Left-justifies or center-justifies number within width of mask column. First character of mask must be L or C. The default value is right-justified. </p></td>
</tr>
  <tr align="left">    <td>
<p>$</p></td>
    <td>
<p>Puts a dollar sign (or locale-appropriate symbol) before formatted number. First character of mask must be the dollar sign ($).</p></td>
</tr>
  <tr align="left">    <td>
<p>^</p></td>
    <td>
<p>Separates left and right formatting.</p></td>
</tr>
</table>
</div>
<p>
</p>
<table>
  <tr valign="top">
    <td width="30"><strong>Note: </strong></td>
    <td>If you do not specify a sign for the mask, positive and negative numbers do not align in columns. To put a plus sign or space before positive numbers and a minus sign before negative numbers, use the plus or hyphen mask character, respectively.</td>
  </tr>
</table>    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Usage</span>
<p>
This function uses Java standard locale formatting rules on all platforms. 
</p>

<p>
The position of symbols in format masks determines where the codes take effect. For example, if you put a dollar sign at the far left of a format mask, ColdFusion displays a dollar sign at the left edge of the formatted number. If you separate the dollar sign on the left edge of the format mask by at least one underscore, ColdFusion displays the dollar sign just to the left of the digits in the formatted number. 
</p>

<p>
These examples show how symbols determine formats: 
</p>

<p>
</p><div align="left">
<table border="1">
  <caption></caption>
  <tr align="center">    <th>&#160;</th>
    <th>&#160;</th>
    <th>&#160;</th>
</tr>
  <tr align="left">    <td>
<p>4.37</p></td>
    <td>
<p>$____.__</p></td>
    <td>
<p>&quot;$  4.37&quot;</p></td>
</tr>
  <tr align="left">    <td>
<p>4.37</p></td>
    <td>
<p>_$___.__</p></td>
    <td>
<p>&quot;  $4.37&quot;</p></td>
</tr>
</table>
</div>
<p>
</p>

<p>
The positioning can also show where to put a minus sign for negative numbers:
</p>

<p>
</p><div align="left">
<table border="1">
  <caption></caption>
  <tr align="center">    <th>&#160;</th>
    <th>&#160;</th>
    <th>&#160;</th>
</tr>
  <tr align="left">    <td>
<p>-4.37</p></td>
    <td>
<p>-____.__</p></td>
    <td>
<p>&quot;-  4.37&quot;</p></td>
</tr>
  <tr align="left">    <td>
<p>-4.37</p></td>
    <td>
<p>_-___.__</p></td>
    <td>
<p>&quot;  -4.37&quot;</p></td>
</tr>
</table>
</div>
<p>
</p>

<p>
The positions for a symbol are: far left, near left, near right, and far right. The left and right positions are determined by the side of the decimal point on which the code character is shown. For formats that do not have a fixed number of decimal places, you can use a caret (^) to separate the left fields from the right.
</p>

<p>
An underscore determines whether the code is placed in the far or near position. Most code characters' effect is determined by the field in which they are located. This example shows how to specify where to put parentheses to display negative numbers:
</p>

<p>
</p><div align="left">
<table border="1">
  <caption></caption>
  <tr align="center">    <th>&#160;</th>
    <th>&#160;</th>
    <th>&#160;</th>
</tr>
  <tr align="left">    <td>
<p>3.21</p></td>
    <td>
<p>C(__^__)</p></td>
    <td>
<p>&quot;( 3.21 )&quot;</p></td>
</tr>
  <tr align="left">    <td>
<p>3.21</p></td>
    <td>
<p>C__(^__)</p></td>
    <td>
<p>&quot; (3.21 )&quot;</p></td>
</tr>
  <tr align="left">    <td>
<p>3.21</p></td>
    <td>
<p>C(__^)__</p></td>
    <td>
<p>&quot;( 3.21) &quot;</p></td>
</tr>
  <tr align="left">    <td>
<p>3.21</p></td>
    <td>
<p>C__(^)__</p></td>
    <td>
<p>&quot; (3.21) &quot;</p></td>
</tr>
</table>
</div>
<p>
</p>

<p>
To set the default display format of date, time, number, and currency values, use the SetLocale function. 
</p>

<p>
When converting from string to double, to prevent rounding errors, this function adds a rounding factor of 1.5543122344752E-014 to the converted number. For example, without adding the rounding factor, converting the string value 1.275 to double with two digits of precision results in a value of 1.27499999999999999, which would be rounded up to 1.27. By adding the rounding factor, the conversion correctly results in a value of 1.28. 
</p>

<p>
If you round off a double, such as 1.99499999999999999999999999999, where the last decimal is 10E-14, the rounding factor can cause an incorrect result. 
</p>
    </td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="CLEARSEPARATION">&nbsp;</td>
  </tr>
  <tr>
    <td valign="top" colspan="2" class="description"><span class="title">Example</span><pre>&lt;h3&gt;LSNumberFormat Example&lt;/h3&gt;
&lt;p&gt;LSNumberFormat returns a number value using the locale convention. 
&lt;!--- loop through a list of locales and show number values ---&gt;
&lt;cfloop LIST = &quot;#Server.Coldfusion.SupportedLocales#&quot;
index = &quot;locale&quot; delimiters = &quot;,&quot;&gt;
   &lt;cfset oldlocale = SetLocale(locale)&gt;
   &lt;cfoutput&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;#locale#&lt;/i&gt;&lt;/b&gt;&lt;br&gt;
      #LSNumberFormat(-1234.5678, &quot;_________&quot;)#&lt;br&gt;
      #LSNumberFormat(-1234.5678, &quot;_________.___&quot;)#&lt;br&gt;
      #LSNumberFormat(1234.5678, &quot;_________&quot;)#&lt;br&gt;
      #LSNumberFormat(1234.5678, &quot;_________.___&quot;)#&lt;br&gt;      
      #LSNumberFormat(1234.5678, &quot;$_(_________.___)&quot;)#&lt;br&gt;      
      #LSNumberFormat(-1234.5678, &quot;$_(_________.___)&quot;)#&lt;br&gt;      
      #LSNumberFormat(1234.5678, &quot;+_________.___&quot;)#&lt;br&gt;      
      #LSNumberFormat(1234.5678, &quot;-_________.___&quot;)#&lt;br&gt;      
   &lt;/cfoutput&gt;
&lt;/cfloop&gt;
</pre>
         </td>
      </tr>
   </table>
   </div>
<div id="NUMBER">
<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr>  
<td valign="top" class="name">NUMBER</td>
  <td valign="top" nowrap class="compatibility">&nbsp;</td>
  </tr>
  <tr>
  <td colspan="2" class="divider"><img src="dwres:18084" width="100%" height="1"></td>
  </tr>


<p>Number to format</p>

  </td>
  </tr>
  </table>
</div>
<div id="MASK">
<table border="0" cellspacing="0" cellpadding="0" width="100%">
<tr>  
<td valign="top" class="name">MASK</td>
  <td valign="top" nowrap class="compatibility">&nbsp;</td>
  </tr>
  <tr>
  <td colspan="2" class="divider"><img src="dwres:18084" width="100%" height="1"></td>
  </tr>


<p>LSNumberFormat mask characters apply, except: dollar sign, comma, and dot are mapped to their locale-specific equivalents.</p>

  </td>
  </tr>
  </table>
</div>

  </body>
</html>
